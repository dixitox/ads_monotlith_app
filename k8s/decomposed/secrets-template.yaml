# secrets-template.yaml
# Copy this file to secrets.yaml and update with your actual values
# Then encode values with: [System.Convert]::ToBase64String([System.Text.Encoding]::UTF8.GetBytes("your-value"))
# DO NOT commit secrets.yaml to source control!

apiVersion: v1
kind: Secret
metadata:
  name: retail-decomposed-secrets
  namespace: retail-decomposed
type: Opaque
data:
  # Azure SQL Connection String (Base64 encoded)
  # Format: Server=sql-retail-decomposed.database.windows.net;Database=RetailDecomposedDB;Authentication=Active Directory Default;TrustServerCertificate=True;
  ConnectionStrings__DefaultConnection: ""
  
  # Azure AD Configuration (Base64 encoded)
  AzureAd__TenantId: ""
  AzureAd__ClientId: ""
  AzureAd__ClientSecret: ""
  AzureAd__Domain: ""
  
  # Azure OpenAI / AI Foundry (Base64 encoded)
  # IMPORTANT: Use Cognitive Services endpoint format (.cognitiveservices.azure.com)
  # ✅ CORRECT: https://your-resource.cognitiveservices.azure.com/
  # ❌ INCORRECT: https://your-project.services.ai.azure.com/api/projects/your-project
  # Get correct endpoint: az cognitiveservices account show --name <account-name> --query properties.endpoint -o tsv
  AzureAI__Endpoint: ""
  AzureAI__DeploymentName: ""
  
  # Azure AI Search (Base64 encoded)
  AzureSearch__Endpoint: ""
  AzureSearch__IndexName: ""
  
  # Application Insights Connection String (Base64 encoded)
  APPLICATIONINSIGHTS_CONNECTION_STRING: ""

---
# Service Account for Azure AD Pod Identity (if using Managed Identity)
apiVersion: v1
kind: ServiceAccount
metadata:
  name: retail-decomposed-sa
  namespace: retail-decomposed
  labels:
    app: retail-microservices
